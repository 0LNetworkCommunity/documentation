<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/developers/technology" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Technology | Open Libra Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.openlibra.io/img/thumbnail.png"><meta data-rh="true" name="twitter:image" content="https://docs.openlibra.io/img/thumbnail.png"><meta data-rh="true" property="og:url" content="https://docs.openlibra.io/guides/developers/technology"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Technology | Open Libra Documentation"><meta data-rh="true" name="description" content="What we are doing"><meta data-rh="true" property="og:description" content="What we are doing"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.openlibra.io/guides/developers/technology"><link data-rh="true" rel="alternate" href="https://docs.openlibra.io/guides/developers/technology" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.openlibra.io/guides/developers/technology" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://E8UE0IN6GG-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Technology","item":"https://docs.openlibra.io/guides/developers/technology"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Open Libra Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Open Libra Documentation Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Open Libra Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.3894a7da.css">
<script src="/assets/js/runtime~main.ed6ae6fd.js" defer="defer"></script>
<script src="/assets/js/main.e2821847.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Open Libra Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Open Libra Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Libra Documentation</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/0LNetworkCommunity/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://discord.gg/52BdUPce3R" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://openlibra.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/getting-started/install-open-libra-cli">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/guides/node-operators/validators/validator-quickstart">Guides</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/node-operators/validators/validator-quickstart">Node Operators</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/guides/developers/dev-quick-start">Developers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/developers/dev-quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/developers/formal-verification">Move Formal Verification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/developers/governance-fixtures">Governance fixtures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/developers/smoke-tests">Smoke Test Harness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/developers/technology">Technology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/developers/testnet-deploy">Deploy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/developers/move/move-smart-contracts">Move</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/community-wallet-ops/community-wallet-activation">Community Wallet Operators</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/founder/migrate-to-v8">Founder</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/integrations/exchanges">Integrations</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/references/tools/cli-tools/config">CLI &amp; API References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/concepts/community-programs/a-good-list">Concepts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog">Blog</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developers</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Technology</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Technology</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-we-are-doing">What we are doing<a href="#what-we-are-doing" class="hash-link" aria-label="Direct link to What we are doing" title="Direct link to What we are doing">​</a></h2>
<p>0L&#x27;s technology strategy is to stay as close as possible to the Libra/Diem code base.</p>
<p>This is because fragmenting the technology products on offer will lead to confusion, and eventually to lack of maintenance and stagnation. This is best for the wider open source ecosystem these tools extend and depend upon. It&#x27;s also much more efficient on resources. Libra/Diem is a massive project, and simply keeping up to date with the code updates requires a dedicated team. Let alone making additions. Separate from Libra/Diem, The 0L project on its own has contributed tens of thousands of lines of new code.</p>
<p>So the forking strategy is simple in concept: take the unmodified Diem code, and import it into the 0L project and add layers of features. Though it&#x27;s not that simple in execution because of the nature of the code base. We have to insert many changes in strategic places of the diem-core code, in order for the 0L layers and side-cars to work. In short, it&#x27;s not a simple code merge, it takes about two weeks from start to finish to incorporate a new upstream Diem release into 0L.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-we-inherited">What we inherited<a href="#what-we-inherited" class="hash-link" aria-label="Direct link to What we inherited" title="Direct link to What we inherited">​</a></h2>
<p>The Libra/Diem platform is a spaceship on all accounts. There are engineering breakthroughs throughout the project. The architecture is sensibly designed, and expertly assembled. This is the merit of the Facebook engineering team (who as individuals appear to true believers in the power of these technologies, and one should make no assumptions of their views on corporate strategy).</p>
<p>This is a non-exhaustive summary of the key features of the Diem architecture that are worth paying attention to. We&#x27;ll take it from the top of the stack to the bottom.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-move-language">The Move Language<a href="#the-move-language" class="hash-link" aria-label="Direct link to The Move Language" title="Direct link to The Move Language">​</a></h3>
<p>The smart-contract language of the platform is called Move. It is the most unique breakthrough of the team. This is a language that is designed to be extremely safe in adversarial environments, and for hurried, less experienced developers. It&#x27;s a very ergonomic language, it&#x27;s easy to approach it if you have even entry-level coding experience. In terms of safety it incorporates much from the Rust language concepts of &quot;borrowing&quot; memory. The compiler is pretty obnoxious, which is something you want when designing autonomous financial systems. One standout feature of the Move language is built-in Formal Verification. Adjacent to the code you can write specs for invariants which your code must preserve (i.e. this function should never be called by this type of account), and it can be checked during the development and build process. This is unique and powerful.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="programming-model">Programming model<a href="#programming-model" class="hash-link" aria-label="Direct link to Programming model" title="Direct link to Programming model">​</a></h3>
<p>The execution of the smart contract and scripts has some subtle but important safety features. By design what are referred to in other platforms as smart-contracts are in fact &quot;modules&quot; here. Users can publish modules, which any other module or transaction can import. This is important. The transactions are scripts. So compared to Ethereum, much of what happens in a smart contract, can actually be split into long lived code in a module, and transaction-scripts which can import from the module (and other modules). This decoupling allows for powerful composability and reliability. The developer can evolve the application without necessarily needing to upgrade modules every time a new transaction use-case emerges.</p>
<p>Modules can have &quot;resources&quot; bound to them. A resource can be thought of as an object in memory, but with restrictions: they can only be modified by the module that instantiated them, and are restricted in how they get created and transferred. Writing a non-fungible token is basically just instantiating one such structure, and something like a fungible token, can be done in a handful of lines of code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-library">Standard Library<a href="#standard-library" class="hash-link" aria-label="Direct link to Standard Library" title="Direct link to Standard Library">​</a></h3>
<p>This is a minor and easily overlooked architectural decision that is quite powerful. There are many modules that are provided standard by the chain, published to the 0x1 address. This standard library can be imported into user-defined modules and transaction scripts.</p>
<p>Importantly, much of the logic tangential to consensus (e.g. validator inclusion in validator set) which would ordinarily be done in the protocol layer (i.e in Rust) is actually written in Move and is stored in the application layer. That is, much of the system policies are just state in the chain database. This makes upgrades to many aspects of system management trivial. Notably in Diem&#x27;s case, this is done by a centralized party (see below how we had to modify this).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-move-vm">The Move VM<a href="#the-move-vm" class="hash-link" aria-label="Direct link to The Move VM" title="Direct link to The Move VM">​</a></h3>
<p>This is a purpose-built bytecode execution environment which isolates the Move Language from the state transition core. The unique feature of the Move VM is that it is easily extensible. It&#x27;s very easy to include a new instruction to the virtual machine, a &quot;native function&quot;. The native functions are written in Rust (which is the language of the entire code-base). Below we reference some of the changes we had to make for real-world use cases.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="executor">Executor<a href="#executor" class="hash-link" aria-label="Direct link to Executor" title="Direct link to Executor">​</a></h3>
<p>This is another place where the Libra/Diem architecture shines, and still has opportunity to evolve over the long term. The most important feature of the Execution layer is &quot;decoupled execution&quot;. This is an important breakthrough. Typically in blockchains all transactions are handled sequentially, there can be no parallelization. With decoupled execution, on the other hand, the executor service checks if a transaction can successfully be processed in parallel to other operations in the mempool. That is: if the transaction could be executed in isolation, and the state changes are atomic.</p>
<p>This places Libra/Diem in a rarified company, the transaction throughput is massively scaled because of this architectural choice, and skillful engineering. It also lays the groundwork for further optimizations possible, and likely coming down the path including the Narwhal DAG mempool management paper Facebook released recently.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mempool">Mempool<a href="#mempool" class="hash-link" aria-label="Direct link to Mempool" title="Direct link to Mempool">​</a></h3>
<p>The mempool management is different from typical blockchains where transactions within the mempool are propagated (e.g. with gossip protocol) without guarantees of inclusion by other parties. In Libra, a Validator node receiving a transaction has the task of making sure the transaction is included in all other validator&#x27;s mempools. This change allows voting on proposals to happen faster, and more orderly than other methods.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consensus">Consensus<a href="#consensus" class="hash-link" aria-label="Direct link to Consensus" title="Direct link to Consensus">​</a></h3>
<p>There&#x27;s a lot to be said about how consensus happens on blockchains, and we won&#x27;t attempt to go into any depth here. The LibraBFT consensus is a variation on Hotstuff, itself a variation of classical consensus algorithm pBFT. LibraBFT borrows much from HotStuff leveraging consensus linearity wherein an agreement on a message is reached in a single round. Pipelining of blocks in HotStuff guarantees the finality of the proposed block by the third block following the proposed block. Effectively block production is only gated by the network speed, the speed in which blocks can be propagated to other nodes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage">Storage<a href="#storage" class="hash-link" aria-label="Direct link to Storage" title="Direct link to Storage">​</a></h3>
<p>The database which stores the transactions is based on a Sparse Merkle Tree design called Jellyfish. This is an architecture shared by a number of blockchains. It has the benefit of being fast to search, and occupies less storage space (hashes) than a traditional merkle tree. The storage is backed by a RocksDB key-value store. This is a sensible design. There isn&#x27;t much to remark here, except that there are still opportunities that can be leveraged from this storage architecture to allow for faster syncing of the blockchain.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-had-to-change">What had to Change<a href="#what-had-to-change" class="hash-link" aria-label="Direct link to What had to Change" title="Direct link to What had to Change">​</a></h3>
<p>The technology we are inheriting is a spaceship. It is also purely infrastructural. There&#x27;s very little in the way of tooling or smart contracts that are usable in the real world. We assume much of the remainder of the software stack is closed-sourced at Facebook.</p>
<p>But most importantly, the architecture is designed as a private, consortium chain. For system administration, there is on omnipresent Diem Association account. Yes, a private key that controls many functions including: Freezing accounts (!), selecting validators for inclusion, paying transaction fees to validators, upgrading the system code. This is obviously a non-starter. So a lot of work had to go into making system policies execute in a permissionless environment.</p>
<p>We also had to add Sybil resistance mechanisms. Typically communities have been choosing Proof-of-Stake as the Sybil resistance method for BFT networks. This is not the route we chose given community growth considerations (as well as regulatory). Elsewhere we&#x27;ve talked in detail about our Delay Towers complement to consensus. Also there were a number of instructions we wanted to add to the MoveVM so that people could write the types of contract they wanted.</p>
<p>Lastly, there was nothing in Libra/Diem about economics. Meaning, there&#x27;s nothing in the way of game theory, about how the network is supposed to perform in a permissionless environment. For example: the transactions are metered in USD stablecoins in LIbra/Diem architecture, and paid out by the administrator, and there&#x27;s no word anywhere about subsidies that may be needed in the absence of meaningful transaction fees. As such there&#x27;s no consideration to the performance of the validator nodes, all nodes are assumed to be monitored external to the protocol. So we had to rethink a number of things given some of the technical features of the network. The network has novel features, so economic mechanisms we see in other chains would not be drop-in replacements. This was a significant amount of research.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="our-contributions">Our Contributions<a href="#our-contributions" class="hash-link" aria-label="Direct link to Our Contributions" title="Direct link to Our Contributions">​</a></h2>
<p>This is not an exhaustive summary of the changes. 0L contributed about 40k new lines of code to the code-base, not including changes and code removal. It&#x27;s a summary of what we think makes 0L a compelling network.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removing-the-root-account">Removing the Root Account<a href="#removing-the-root-account" class="hash-link" aria-label="Direct link to Removing the Root Account" title="Direct link to Removing the Root Account">​</a></h3>
<p>This is an obvious decision. But the task propagated into many subprojects. The Root Account is pervasive in the codebase. So we had two things to accomplish: (1) replace all its functions with a system 0x0 account (2) Neuter the Root Account where impossible to remove (e.g. in much of the genesis logic). Decentralized Genesis Beginning with Genesis, the Libra/Diem architecture provides good tooling on creating genesis blocks, mainly for testing. For an actual network genesis, the tools assume that there is an administrator that is picking the participants and then setting a layout file.</p>
<p>In our changes we made it such that an online Github repo acted as a gathering place for anyone who wished to &quot;register&quot; to be part of a genesis. The owner of the repo, would have as a policy in the genesis ceremony, to accept all pull requests or people adding their genesis validator configurations. In our genesis, all candidates had to submit a Delay Tower &quot;proof zero&quot;, an initial proof of work. All registrants are expected to provide their own layout file. This means that several genesis blocks (and hence networks) are possible with the initial genesis. After a few attempts and some social consensus a canonical chain will emerge. This may appear unpredictable, but it has the benefit of being a maximally decentralized genesis ceremony.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delay-towers">Delay Towers<a href="#delay-towers" class="hash-link" aria-label="Direct link to Delay Towers" title="Direct link to Delay Towers">​</a></h3>
<p>We&#x27;ve written about this extensively <a href="https://github.com/0LNetworkCommunity/libra/blob/main/ol/documentation/delay_towers/delay_towers_0.md" target="_blank" rel="noopener noreferrer">in ol/documentation/delay_towers/</a>. We needed a way to choose what validators were allowed to operate in a validator set. We did this without Proof of Stake. In short, Delay Towers prove sequential proofs of elapsed time. This can be considered a &quot;heavy&quot; identity, enough for the BFT requirements of there being a durable identity, which is not cheap. This was a significant amount of research and experimentation.</p>
<p><a href="http://openlibra.blog/category/canonical/" target="_blank" rel="noopener noreferrer">Read the full paper here on our blog.</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hot-upgrades">Hot Upgrades<a href="#hot-upgrades" class="hash-link" aria-label="Direct link to Hot Upgrades" title="Direct link to Hot Upgrades">​</a></h3>
<p>While there&#x27;s a long discussion possible on how network upgrades should be selected (governance), there was no starting place for that conversation, when the system could only be updated by the root account (that we removed). We invented an upgrade mechanism for BFT, which does not require hard forks, nor operator intervention at the time of upgrade.</p>
<p>Since all system rules are encoded in the application layer in Diem, the code is quite compact, and a proposed new binary could also be stored in the applications layer. Since that&#x27;s possible it also opens up the binary to be voted on chain, and the code of the upgrade itself, stored on-chain, such that the upgrade can happen without operator intervention. New binaries for the system can be proposed and voted upon by the validators, and if there are ⅔ of validators choosing the binary (effectively what would be needed for a hard fork), the changes would be synchronously written by all validator nodes at a coordinated time in the blockchain.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validator-stats">Validator Stats<a href="#validator-stats" class="hash-link" aria-label="Direct link to Validator Stats" title="Direct link to Validator Stats">​</a></h3>
<p>We had to have on-chain information on the performance of validators. This is critical to designing any economic games around transaction fees and other rewards.</p>
<p>Fortunately in the upstream code, the block prologue is executed in the Move virtual machine, and allows us to add transaction metadata directly into the state machine on every block. So the 0x0 system address contains information on what validators have voted on a given block, and who the proposer was. We can use this for some naive metering within the state machine. It&#x27;s a sufficient amount to be able to identify which validator nodes are not performing and apply certain sanctions.</p>
<p>There is a performance penalty for this, and optimizations are possible. Since Move does not offer higher order data structures (hash tables) the data is stored in tables which are not ideal for traversing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="onboarding-of-accounts">Onboarding of accounts<a href="#onboarding-of-accounts" class="hash-link" aria-label="Direct link to Onboarding of accounts" title="Direct link to Onboarding of accounts">​</a></h3>
<p>In the upstream LibraDiem code, accounts are not created permissionlessly. It starts with a Diem Association Account, which later add Virtual Asset Service Providers (such an exchange), which later create user accounts. So all of this had to be replaced (the code remains in our code base for reference, but is inactivated). Instead, there are only two types of accounts on 0L: end-user accounts (the typical account), and Validator Accounts (who own and operate nodes).</p>
<p>End user accounts can be created by anyone that already has an account, as is typical with any account-based blockchain. Like in Ethereum, you can create keys for an account offline, but the account does not exist until someone already on-chain sends you at least one coin.</p>
<p>Similarly for Validator accounts, an account needs to be created by another pre-existing Validator account. There are some game theoretical considerations here which are discussed in the Rulebook. In short, unlike industry practice where the group of validators have to vote on admission of a new member, in 0L any validator can onboard another, but they are rate-limited from onboarded too many. One validator can onboard another every 14 epochs (days).</p>
<p>Tangentially, but relevant. Any accounts can optionally create different policies on them called Slow Wallets or Community Wallets. This is described in the rule book.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="movevm-changes">MoveVM changes<a href="#movevm-changes" class="hash-link" aria-label="Direct link to MoveVM changes" title="Direct link to MoveVM changes">​</a></h3>
<p>We&#x27;ve made some additions to the MoveVM that were necessary for us to implement Delay towers and so that users could write useful financial apps.</p>
<ul>
<li><strong>Decimal</strong> - we needed a number type that could be used for financial math that could lead into polynomial curves etc. So we added the Rust Decimal library and some initial APIs and their corresponding native instructions.</li>
<li><strong>VDF verification</strong> - to verify the Delay Towers proofs we added the ChiaVDF verifier to the VM. The prover is not needed in the VM. The VDF prover can accept a number of parameters (not hardcoded for 0L&#x27;s use-case). So application builders could leverage it in their own games.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="auto-pay">Auto Pay<a href="#auto-pay" class="hash-link" aria-label="Direct link to Auto Pay" title="Direct link to Auto Pay">​</a></h3>
<p>The ability to create payments in the future, and regular payments as a percent of account balance or of new income. This was a feature requested early by the community. It powers a number of use-cases important at the start of a network. Namely it is useful for anyone that wants to run a community program. In this case an entity or a person is seeking to accomplish a goal or a project, and is asking for donations. Autopay allows for set-it-and-forget-it donations to programs. Most people in 0L use this to send a portion of their mining rewards to programs automatically.</p>
<p>Autopay can be programmed for:</p>
<ul>
<li>Sending a single payment in the future.</li>
<li>Sending recurring flat fee payments every epoch (day).</li>
<li>Sending a percent of the balance every epoch.</li>
<li>Sending a percent of NEW balance every epoch (e.g. mining rewards).</li>
</ul>
<p>Future types of autopay are possible. Autopay has a simple First In First Out Queue, to handle planned payments that go above the current balance or above current transfer restrictions. CLI Lots of tooling had to be written to successfully manage nodes and interact with accounts. Much of the tooling is in early stages given the ground that had to be covered given the complexity of the system.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-monitor">Web Monitor<a href="#web-monitor" class="hash-link" aria-label="Direct link to Web Monitor" title="Direct link to Web Monitor">​</a></h3>
<p>a web interface for a Nodes Operator to see reports on the node. Basic chain info: Epoch number, waypoint. Includes Node Health, and account info Performance reports on all validators in set. JSON endpoints to query data, like the node&#x27;s account profile, epoch. Not to be confused with a fullnode json-rpc</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="terminal-explorer">Terminal Explorer<a href="#terminal-explorer" class="hash-link" aria-label="Direct link to Terminal Explorer" title="Direct link to Terminal Explorer">​</a></h3>
<p>Explorer - a terminal block explorer. This one is mostly for fun. This is a terminal interface for a block explorer to check some vitals of your fullnode or validator node.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="txs">TXS<a href="#txs" class="hash-link" aria-label="Direct link to TXS" title="Direct link to TXS">​</a></h3>
<p>We needed a library for sending different types of transactions. So that it could be imported in other tools. TXS also include a CLI utility to send commands from terminal.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="onboard">Onboard<a href="#onboard" class="hash-link" aria-label="Direct link to Onboard" title="Direct link to Onboard">​</a></h3>
<p>This is a library and CLI tool for creating packaging all of the necessary files for a new fullnode or validator account to join the network. Because 0L changed the account creation permissions and logic, there had to be purpose built tooling for it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="restore">Restore<a href="#restore" class="hash-link" aria-label="Direct link to Restore" title="Direct link to Restore">​</a></h3>
<p>Diem has one significant limitation which is a slower sync time. A fullnode joining an already mature network, will take a long period of time to catch up to consensus. So we had to create tools and a bit of infrastructure to leverage some of Diem&#x27;s existing backup and restore tools. At every new epoch there is a snapshot taken of the chain, and submitted to a Github repository. Multiple such repositories can exist. When a new validator is joining the network they must begin as fullnodes. The ol restore tool will fetch a snapshot from repository, check it, and deploy it so that the fullnode can begin syncing from an advanced epoch (i.e. waypoint).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="carpe">Carpe<a href="#carpe" class="hash-link" aria-label="Direct link to Carpe" title="Direct link to Carpe">​</a></h3>
<p>Last but not least. We wanted all users to be able to participate meaningfully, and on equal footing with a protocol. Since there is a subsidy for creating heavy identities on the chain (Delay Tower), we needed to make this accessible to a diverse audience. The Carpe app, combines a Wallet with a Light Miner, which allows anyone with a desktop whether Windows, Ubuntu, or Mac, to &quot;mine&quot; coins for themselves. <a href="http://openlibra.blog/technology/carpe-desktop-app/" target="_blank" rel="noopener noreferrer">Learn more here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/0LNetworkCommunity/documentation/edit/main/docs/guides/developers/technology.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-05-18T21:28:06.000Z" itemprop="dateModified">May 18, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/developers/smoke-tests"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Smoke Test Harness</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/developers/testnet-deploy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-we-are-doing" class="table-of-contents__link toc-highlight">What we are doing</a></li><li><a href="#what-we-inherited" class="table-of-contents__link toc-highlight">What we inherited</a><ul><li><a href="#the-move-language" class="table-of-contents__link toc-highlight">The Move Language</a></li><li><a href="#programming-model" class="table-of-contents__link toc-highlight">Programming model</a></li><li><a href="#standard-library" class="table-of-contents__link toc-highlight">Standard Library</a></li><li><a href="#the-move-vm" class="table-of-contents__link toc-highlight">The Move VM</a></li><li><a href="#executor" class="table-of-contents__link toc-highlight">Executor</a></li><li><a href="#mempool" class="table-of-contents__link toc-highlight">Mempool</a></li><li><a href="#consensus" class="table-of-contents__link toc-highlight">Consensus</a></li><li><a href="#storage" class="table-of-contents__link toc-highlight">Storage</a></li><li><a href="#what-had-to-change" class="table-of-contents__link toc-highlight">What had to Change</a></li></ul></li><li><a href="#our-contributions" class="table-of-contents__link toc-highlight">Our Contributions</a><ul><li><a href="#removing-the-root-account" class="table-of-contents__link toc-highlight">Removing the Root Account</a></li><li><a href="#delay-towers" class="table-of-contents__link toc-highlight">Delay Towers</a></li><li><a href="#hot-upgrades" class="table-of-contents__link toc-highlight">Hot Upgrades</a></li><li><a href="#validator-stats" class="table-of-contents__link toc-highlight">Validator Stats</a></li><li><a href="#onboarding-of-accounts" class="table-of-contents__link toc-highlight">Onboarding of accounts</a></li><li><a href="#movevm-changes" class="table-of-contents__link toc-highlight">MoveVM changes</a></li><li><a href="#auto-pay" class="table-of-contents__link toc-highlight">Auto Pay</a></li><li><a href="#web-monitor" class="table-of-contents__link toc-highlight">Web Monitor</a></li><li><a href="#terminal-explorer" class="table-of-contents__link toc-highlight">Terminal Explorer</a></li><li><a href="#txs" class="table-of-contents__link toc-highlight">TXS</a></li><li><a href="#onboard" class="table-of-contents__link toc-highlight">Onboard</a></li><li><a href="#restore" class="table-of-contents__link toc-highlight">Restore</a></li><li><a href="#carpe" class="table-of-contents__link toc-highlight">Carpe</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="footer-left">
                  <a class="footer-logo" href="https://openlibra.io/" target="_blank" rel="noopener noreferrer" title="Open Libra">
                  <img src="/img/logo.png" alt="0L Network logo">
                  </a>
                </div>
                </li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                  <p class="right">
                    <nav class="social-links">
                        <a class="social-link" href="https://github.com/0LNetworkCommunity/" target="_blank" rel="noopener noreferrer" title="Github">
                         <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 0C4.47514 0 0 4.47514 0 10C0 14.4199 2.86679 18.1645 6.83855 19.4905C7.33579 19.5826 7.51995 19.2756 7.51995 19.0055C7.51995 18.7661 7.51381 18.14 7.50767 17.3051C4.72683 17.9067 4.13751 15.9668 4.13751 15.9668C3.68324 14.8128 3.0264 14.5058 3.0264 14.5058C2.11786 13.8858 3.09392 13.8981 3.09392 13.8981C4.09454 13.9718 4.62861 14.9294 4.62861 14.9294C5.51872 16.4579 6.96746 16.016 7.53837 15.7581C7.63045 15.1136 7.88827 14.6716 8.17066 14.4199C5.94843 14.1682 3.61571 13.3088 3.61571 9.47821C3.61571 8.38551 4.00246 7.4954 4.64702 6.79558C4.54266 6.54389 4.19889 5.52486 4.74524 4.14978C4.74524 4.14978 5.58625 3.87968 7.4954 5.17495C8.29343 4.95396 9.14672 4.84346 10 4.83732C10.8471 4.83732 11.7066 4.95396 12.5046 5.17495C14.4137 3.87968 15.2548 4.14978 15.2548 4.14978C15.8011 5.52486 15.4573 6.54389 15.353 6.79558C15.9914 7.4954 16.3781 8.38551 16.3781 9.47821C16.3781 13.3211 14.0393 14.1621 11.8109 14.4137C12.167 14.7207 12.4923 15.3346 12.4923 16.2676C12.4923 17.6059 12.48 18.6802 12.48 19.0117C12.48 19.2818 12.6581 19.5887 13.1676 19.4905C17.1393 18.1645 20 14.4199 20 10.0061C20 4.47514 15.5249 0 10 0Z" fill="currentColor"/></svg>
                        </a>
                        <a class="social-link" href="https://discord.gg/0lnetwork" target="_blank" rel="noopener noreferrer" title="Discord">
                          <svg width="100%" height="100%" viewBox="0 0 71 55" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M60.105 4.898A58.55 58.55 0 0 0 45.653.415a.22.22 0 0 0-.233.11 40.784 40.784 0 0 0-1.8 3.697c-5.456-.817-10.886-.817-16.23 0-.485-1.164-1.201-2.587-1.828-3.697a.228.228 0 0 0-.233-.11 58.386 58.386 0 0 0-14.451 4.483.207.207 0 0 0-.095.082C1.578 18.73-.944 32.144.293 45.39a.244.244 0 0 0 .093.167c6.073 4.46 11.955 7.167 17.729 8.962a.23.23 0 0 0 .249-.082 42.08 42.08 0 0 0 3.627-5.9.225.225 0 0 0-.123-.312 38.772 38.772 0 0 1-5.539-2.64.228.228 0 0 1-.022-.378 31.17 31.17 0 0 0 1.1-.862.22.22 0 0 1 .23-.03c11.619 5.304 24.198 5.304 35.68 0a.219.219 0 0 1 .233.027c.356.293.728.586 1.103.865a.228.228 0 0 1-.02.378 36.384 36.384 0 0 1-5.54 2.637.227.227 0 0 0-.121.315 47.249 47.249 0 0 0 3.624 5.897.225.225 0 0 0 .249.084c5.801-1.794 11.684-4.502 17.757-8.961a.228.228 0 0 0 .092-.164c1.48-15.315-2.48-28.618-10.497-40.412a.18.18 0 0 0-.093-.084Zm-36.38 32.427c-3.497 0-6.38-3.211-6.38-7.156 0-3.944 2.827-7.156 6.38-7.156 3.583 0 6.438 3.24 6.382 7.156 0 3.945-2.827 7.156-6.381 7.156Zm23.593 0c-3.498 0-6.38-3.211-6.38-7.156 0-3.944 2.826-7.156 6.38-7.156 3.582 0 6.437 3.24 6.38 7.156 0 3.945-2.798 7.156-6.38 7.156Z" fill="currentColor"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h71v55H0z"/></clipPath></defs></svg>
                        </a>
                    </nav>
                  </p>
              </li></ul></div></div></div></footer></div>
</body>
</html>