<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Proof of Fee - Part 2 | Open Libra Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.openlibra.io/img/thumbnail.png"><meta data-rh="true" name="twitter:image" content="https://docs.openlibra.io/img/thumbnail.png"><meta data-rh="true" property="og:url" content="https://docs.openlibra.io/blog/proof-of-fee-part-2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Proof of Fee - Part 2 | Open Libra Documentation"><meta data-rh="true" name="description" content="From empirical evidence over the last five years, we have seen few malicious attacks by validators; clearly something is working. We don&#x27;t want to break something that is working. What we want to evaluate is whether we can make it sustainably work at a lower cost."><meta data-rh="true" property="og:description" content="From empirical evidence over the last five years, we have seen few malicious attacks by validators; clearly something is working. We don&#x27;t want to break something that is working. What we want to evaluate is whether we can make it sustainably work at a lower cost."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-10-20T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="PoF,Proof of Fee,canonical"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.openlibra.io/blog/proof-of-fee-part-2"><link data-rh="true" rel="alternate" href="https://docs.openlibra.io/blog/proof-of-fee-part-2" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.openlibra.io/blog/proof-of-fee-part-2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://E8UE0IN6GG-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://docs.openlibra.io/blog/proof-of-fee-part-2","mainEntityOfPage":"https://docs.openlibra.io/blog/proof-of-fee-part-2","url":"https://docs.openlibra.io/blog/proof-of-fee-part-2","headline":"Proof of Fee - Part 2","name":"Proof of Fee - Part 2","description":"From empirical evidence over the last five years, we have seen few malicious attacks by validators; clearly something is working. We don't want to break something that is working. What we want to evaluate is whether we can make it sustainably work at a lower cost.","datePublished":"2022-10-20T00:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://docs.openlibra.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Open Libra Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Open Libra Documentation Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Open Libra Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.974988ab.css">
<script src="/assets/js/runtime~main.e75f102a.js" defer="defer"></script>
<script src="/assets/js/main.2981f3cd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Open Libra Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Open Libra Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Libra Documentation</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://github.com/0LNetworkCommunity/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/0lnetwork" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://openlibra.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/back-to-filo-the-future-of-open-libra">Back to FILO: The Future of Open Libra</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/the-road-less-traveled">Open Libra: The Road Less Traveled</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/openlibra-nodejs-release">The Open Libra NodeJS Library Has Been Published on npm üî•</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/scorpions-claw-proposal">Scorpion&#x27;s Claw Recommendation</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/team-arctika-recommendation">Team Arctika Recommendation</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/october-2022-governance-recap">2022 Governance Recap</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/proof-of-fee-part-2">Proof of Fee - Part 2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proof-of-fee-part-1">Proof of Fee - Part 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-2-proof-of-fee">Proposal 2210-2 - Proof of Fee</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-7-donor-directed-community-wallets">Proposal 2210-7 - Donor Directed Community Wallets</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-8-infrastructure-escrow-funding">Proposal 2210-8 - Infrastructure Escrow Funding</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-1-final-supply">Proposal 2210-1 - Final Supply</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-4-repurpose-carpe">Proposal 2210-4 - Repurpose Carpe</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-5-revenue-binding-primitives">Proposal 2210-5 - Revenue Binding Primitives</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-6-faucets-for-workers">Proposal 2210-6 - Faucets for Workers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/proposal-2210-3-musical-chairs">Proposal 2210-3 - Musical Chairs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/new-milestones-for-carpe">New Milestones for Carpe</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/proposals/the-0l-network-constitution">0L Network Constitution</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/spring-forward¬†">Spring Forward</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/carpe-goes-multilingual">Carpe Goes Multilingual</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/research-report-decentralizing-permissioned-blockchain-with-delay-towers">Research Report: Decentralizing Permissioned Blockchain with Delay Towers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/carpe-beta-launched">Carpe Beta Launched</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/press-mysten">Mysten Labs Partners With 0L Network to Expand Move For Secure Smart Contracts</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/the-rulebook-at-genesis">Future-Proofing the Economics of Blockchains - Appendix: The Rulebook at Genesis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/future-proofing-the-economics-of-blockchains-pt-3">Future-Proofing the Economics of Blockchains - Part III</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/future-proofing-the-economics-of-blockchains-pts-1--2">Future-Proofing the Economics of Blockchains - Part I and II</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/thedefiant">0L Aims To Revive Facebook‚Äôs Libra Cryptocurrency With Fair Launch</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/libra-liberated">Libra Liberated</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/delay-towers-pt-3-implementation-on-bft">Part 3 - A Delay Towers Implementation on BFT</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/delay-towers-pt-2">Part 2 - From Puzzle Towers and VDFs to Delay Towers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/delay-towers-pt-1">Part 1 - Puzzle Towers for BFT</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/delay-towers-pt-0">Part 0 - A high-throughput chain with a fair launch</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Proof of Fee - Part 2</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-10-20T00:00:00.000Z">October 20, 2022</time> ¬∑ <!-- -->35 min read</div></header><div id="__blog-post-container" class="markdown"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">In [Part 1 of this paper](http://openlibra.blog/2022/10/15/proof-of-fee-part-1/) we laid the foundations for Proof of Fee. Some of the ideas expressed there may be different from what you have seen elsewhere, and we do urge you to read that before you begin here. In Part 2 of this paper, below, we get into the mechanics and implementation details of Proof-of-Fee (PoF).</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>From empirical evidence over the last five years, we have seen few malicious attacks by validators; clearly something is working. We don&#x27;t want to break something that is working. What we want to evaluate is whether we can make it sustainably work at a lower cost.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gaming-it-out">Gaming it out<a href="#gaming-it-out" class="hash-link" aria-label="Direct link to Gaming it out" title="Direct link to Gaming it out">‚Äã</a></h2>
<p>In part 1, we concluded that estimating the security of the network in monetary terms is not directly correlated to the financial costs of stakes. PBFT as a consensus algorithm has compelling built-in security properties. Plus, launching a PBFT network necessarily starts from a root of trust, and this can be reinforced by validator admission policies that reduce likelihood of Sybil attacks.</p>
<p>The central question is this: How is a large bond staked by a diverse group of agents contributing to security? Is it really necessary?</p>
<p>Before we can evaluate how the high bonding works on PBFT, we should define which actors can be Byzantine. Are we trying to be safe from the everyman who goes rogue, or a madman? The deterrence strategies you would apply in those two situations are not the same.</p>
<p>If you goal is educating the initially honest validators on what is expected, then we would argue that swift and sure penalties are much more important than highly severe but rare penalties. When it comes to madmen, however, economic guarantees are marginal at best.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deterrence-is-in-the-mind">Deterrence is in the mind<a href="#deterrence-is-in-the-mind" class="hash-link" aria-label="Direct link to Deterrence is in the mind" title="Direct link to Deterrence is in the mind">‚Äã</a></h3>
<p>Swift and sure penalties train actors in cause and effect and teach what is expected. A quick time-out is a much better training method for wayward children than a rare but severe strapping.¬† In theory, high stakes penalties for unlikely events are a way of achieving compliant behavior without having to wait for the parties to learn (by way of experiencing the penalties) but they work mostly through perceptions and may easily backfire. The rare strapping, for example, may teach the child that punishment is random and parents are not to be trusted.¬†</p>
<p>Similarly, capital punishment is a pyschological game, not a device meant to train someone across a series of events. Moreover, for something as extreme as capital punishment to work well, it needs to be placed within a context of other swift and sure penalties. That is, the credibility of maximal punishment also depends on consistency. Catch people for spray painting graffiti and others may be deterred from more serious crimes, but let graffiti take over and all punishment will come to be doubted no matter the crime.</p>
<p>Punishments for unlikely events work within a context of swift and sure penalties for smaller events mostly by preventing good agents from &quot;breaking bad&quot;. Normal people learn what is expected and don‚Äôt doubt that big deviations will be punished.</p>
<p>Severe penalties don‚Äôt necessarily deter people that don&#x27;t evaluate the punishment in the same way (e.g., the mentally ill, the North Korean nuclear program), or engage in a repeated game with the state where the punishment is not dispensed (e.g., serial killers, organized crime, Iranian nuclear program). Policy designers may assume incorrectly that the only way to handle these situations is to ratchet rare punishments yet higher. Applying maximal punishment out of the context of learning may seem rational to deter a madman, but to the everyman it is terror and leads to distrust and learned helplessness.¬†</p>
<p>What does this mean for blockchain?¬†</p>
<p>An attack by a sophisticated and resourced or irrational malicious actor is not going to be deterred by high bonding. In practice, slashing is never complete because of the fear this creates in normal, and normally good, actors. As implemented in Tendermint, for example, a defector does not lose their entire stake in a single &quot;slashing&quot; event commensurate with the damage done because that would drive out good actors. Moreover, a well-resourced attacker knows this, and isn&#x27;t particularly deterred (and in fact could subsidize a one-time attack with winnings along the way). The solution, however, isn‚Äôt to slash more.</p>
<p>There are always madmen that want to see the world burn; economic guarantees are not effective against them. The only thing that deters the madman, at any price, is the validator admission policy, as we describe below. Modest, swift, and sure penalties will achieve what can be achieved and at lower cost than ‚Äúcapital punishment‚Äù style slashing. We should leverage this in our favor to secure PBFT blockchains, at the appropriate cost.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-town-of-robbers-is-no-town-at-all">A town of robbers is no town at all<a href="#a-town-of-robbers-is-no-town-at-all" class="hash-link" aria-label="Direct link to A town of robbers is no town at all" title="Direct link to A town of robbers is no town at all">‚Äã</a></h3>
<p>There&#x27;s another argument often advanced for high bonds: Humans are not inherently honest ergo, we should assume people on the internet are out to rob the chain. This may be a perfectly reasonable philosophy but, in the specific case of PBFT, it&#x27;s unlikely to be destabilizing.</p>
<p>Silvio Micali has a thought experiment; it goes like this: Why would anyone move into a neighborhood or town where the vast majority of people were thieves? Certainly no good actor. In fact, not even the robbers would want to live there! These are places that, by definition, cannot exist. This is called the &quot;honesty assumption&quot; of PBFT and PBFT algorithm provides a guarantee. If you want to reorganize the already committed blocks, you&#x27;ll need ‚Öîrds of the validator set to go along with it. Certainly it&#x27;s possible that ‚Öîrds of the validator set could act against the will of one party or the entirety of the accounts on chain, but it begs two questions: (1) How does a network even arrive to the point of having ‚Öî malicious actions? and (2) Are we sure an honest community can&#x27;t recover from this?</p>
<p>Since PBFT networks start from a root of trust and continue to reinforce the norms of behavior, it seems that the deterrent to this problem is not economic, but rather in the validator credentialing process. The ways this is implemented are diverse. We‚Äôve seen multiple approaches, from a foundation or a company signing contracts (with testnet winners), or a decentralized vouching from the existing validators, or coin voting for validator admission.</p>
<p>Moreover, there is also a way for account holders to recover: They can fork the validators out. Forking is another deterrent to a cabal of malicious agents. If you reorg the blocks against the will of the account holders by creating a fork, it may be trivial for the account holders to continue from where the fork branched off, with a new validator set. This is considered &quot;weak subjectivity&quot;, and informal in the eyes of certain blockchain designers, but it doesn&#x27;t prevent it from being a real deterrent, since it only needs to exist in the mind of the malicious actor. All that effort by the madman will be for naught. (To be clear this property doesn&#x27;t neatly generalize to all blockchain consensus algorithms).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cartels-are-unstable">Cartels are unstable<a href="#cartels-are-unstable" class="hash-link" aria-label="Direct link to Cartels are unstable" title="Direct link to Cartels are unstable">‚Äã</a></h3>
<p>Lastly, advocates of high bonding rates might say it&#x27;s trivial to turn good actors bad ‚Äì you can just bribe people to join a cartel. However, that argument fails to consider that bad agents also face challenges. Coordination in adversarial space is a hard problem and this also applies to malicious agents attempting to form a cartel.¬†</p>
<p>Cartels are not monopolists, though they try to achieve the maximum profit as if they were one. The trouble with cartels is that the dominant strategy of the cartel member is to cheat, not only once, but repeatedly. One defector from the cartel can reap the rewards of the monopoly price at a cost to other cartel members (not the consumer). And cheating in the repeated game quickly destabilizes the cartel. Plus, if your cartel operates outside the law or norms, is there any reason to expect a cartel member to respect the cartel&#x27;s agreement? We know this from the behavior of other malicious cartels (think: drugs, mafia), which are rarely stable. The stable cartels that come to mind are those rare exceptions supported by governments (think: OPEC, American Medical Association).</p>
<p>So, if you are planning a long range attack on a blockchain, you&#x27;d better be sure that you are the monopolist and that you control all the nodes, otherwise you will be left holding the bag. This is a very expensive proposition, and likely loss-making. The cartel argument is a distraction; though one-time colluding attacks in PBFT can happen at a cost and uncertainty to the participants, sustaining collusion is another matter.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="proof-of-fee-auctioning-consensus-seats">Proof of Fee: Auctioning Consensus Seats<a href="#proof-of-fee-auctioning-consensus-seats" class="hash-link" aria-label="Direct link to Proof of Fee: Auctioning Consensus Seats" title="Direct link to Proof of Fee: Auctioning Consensus Seats">‚Äã</a></h2>
<p>Given what we&#x27;ve seen above, a lot of the deterrence is already baked into the nature of the PBFT game and that deterrence is largely independent of the price. The madman attack is taken care of by admission controls, not economics. The cartel scenario is a red-herring. The economic guarantees seem to only be needed to keep honest people‚Ä¶ honest.¬†</p>
<p>So our provocation is this: What&#x27;s the optimal price for the <em>social surplus</em>, so that everyone wins?</p>
<p>Proof of fee (PoF) is based on a premise: Let‚Äôs create equivalents of the bonding, staking, and slashing process by simply charging the equivalent cost of capital through an admission fee.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem-definition">Problem Definition<a href="#problem-definition" class="hash-link" aria-label="Direct link to Problem Definition" title="Direct link to Problem Definition">‚Äã</a></h3>
<p>The PoF protocol assumes that all revenues to the chain belong to all the token holders. As such, transaction fees are not a property right of the operators (validators). We assume that blockchains intend to be self-sufficient (or better), where sufficient revenues exist to pay for the consensus costs. As discussed in Part 1, because future blockspace is likely to become abundant (due to engineering advances), the blockchain must either develop other revenue streams besides blockspace, or become more cost efficient. For the cost-conscious token holders, the key question is: For a given level of security, how much do token holders have to pay to validators?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="first-approach-a-reverse-auction">First Approach: A Reverse Auction<a href="#first-approach-a-reverse-auction" class="hash-link" aria-label="Direct link to First Approach: A Reverse Auction" title="Direct link to First Approach: A Reverse Auction">‚Äã</a></h3>
<p>On all blockchains, nodes are competing in an auction of compute power. What if we turned the usual blockchain auction upside down?</p>
<p>Our first attempt at a delegation-less and stake-free economic system is a <a href="https://en.wikipedia.org/wiki/Reverse_auction" target="_blank" rel="noopener noreferrer">reverse auction</a>. Reverse auctions are also called procurement auctions, such that an enterprise has their orders for materials delivered at the lowest cost. In our case, the enterprise is the blockchain and the provider is the validator node.</p>
<p>One could set up an auction as follows: At the start of an upcoming epoch (period of blocks) a node which is selling compute power (to the blockchain for consensus) states the minimum reward they are willing to receive for the services at the end of the epoch. The X number nodes with lowest bids get admitted to the validator set.</p>
<p>The reverse auction model is attractive, namely for its simplicity. Alas, however, it is too simple. Simply agreeing to take a low fee, and subsequently being allowed to enter the validator set is not sufficient in permissionless and adversarial environments. We would really be pushing the limits on the guarantees of PBFT, since we really have the nothing-at-stake problem in this design.</p>
<p>The limitation of the above design is that there is no actual cost to enter the agreement with the blockchain. In such a simple reverse auction, the validator can bid a low fee but never deliver on services. In a group of carefully vetted operators, this would be fine. But in an adversarial scenario, or a scenario where the abilities of the validators are indeterminate (amateurs), there should be a real cost to non-performance.¬† We can imagine ways in which a madman might wreak havoc in a number of ways (a &quot;split brain&quot; attack for instance). But as we said above, preventing this belongs in the domain of the validator credentialing. The real threat is operator incompetence. Suppose a validator bids the maximal amount, and simply forgets to start the machine at the right time. This hurts the network in a meaningful way, it will slow down and ultimately halt, and at no cost to the validator. The risks are asymmetric, and leads to a type of prisoner&#x27;s dilemma game. Empirically this has been the greatest threat to PBFT networks: Amateurism.¬†</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pricing-carelessness-with-a-forward-auction">Pricing Carelessness With A Forward Auction<a href="#pricing-carelessness-with-a-forward-auction" class="hash-link" aria-label="Direct link to Pricing Carelessness With A Forward Auction" title="Direct link to Pricing Carelessness With A Forward Auction">‚Äã</a></h3>
<p>In almost all markets there are entry fees, some are explicit, and some are implicit. In Bitcoin, there is a hardware capital cost. In DPoS, there is a bond. How else can we charge an entry fee?</p>
<p>As a reverse auction is not ideal, we&#x27;ll need to go back to an ordinary (forward) auction, where the blockchain is selling consensus seats. In this case, the validators need to know what they are bidding on, and know what the cost of non-performance is.¬†</p>
<p>The design is equally simple: The blockchain must determine the baseline reward it is willing to offer validators for the epoch, and validators pay to gain admission.</p>
<p>As an example, suppose the blockchain offers 10 coins per validator every epoch and suppose that the validator is profitable at 4 coins to validate (with 4 being the real dollar cost evaluated in coins at current dollar-coin exchange rates). Validators, functioning as bidders, would then bid on the seats in consensus, e.g. pay in advance up to 6 coins, for the benefit of winning 10, and thus netting 4 coins. This is functionally equivalent to the reverse auction where the validator would bid 4 coins. The difference is that the node is bonded within the epoch. The payment to get a validator seat is final. So if the validator does not perform, their admission fee is lost and they lose 6 coins. Thus, this auction format is the equivalent in DPoS of &quot;slashing&quot; a part of the bond.</p>
<p>The bond may seem low, but remember our thesis: We are only trying to keep honest actors from turning bad, and also not encourage careless operators with asymmetric risks.¬†</p>
<p>The disadvantage of this model is that the blockchain must set the baseline reward wisely (10 coins in the above example). If the baseline is set very wrong, it can create an uncompetitive auction. We discuss this issue further below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="thermostatic-baseline-price">Thermostatic Baseline Price<a href="#thermostatic-baseline-price" class="hash-link" aria-label="Direct link to Thermostatic Baseline Price" title="Direct link to Thermostatic Baseline Price">‚Äã</a></h3>
<p>How can the baseline price stay within a range in which the bidders are motivated to participate, given the external market conditions? If one sets the baseline too high and not enough biders show up, the network may dilute or exhaust their reward subsidies. If the baseline becomes too low, then no bidders show up.</p>
<p>Suppose the baseline reward to validators is set too low, given extrinsic market conditions. Such a situation does not create a large implicit bond, and thus does not create an effective deterrent. For example, suppose that instead of setting the baseline reward at 10 in the above example, the reward was set to 5. Now validators will bid up to 1 for the right to earn 5 but this means that a validator that fails to validate loses only 1. Worse yet if the baseline reward falls to less than 4 then eventually no validators show up. To solve for this, a ‚Äúthermostatic‚Äù solution could be applied: as in home heating devices, the heat increases or decreases by a certain amount to target a given temperature.¬†</p>
<p>Let‚Äôs look at an example. Let the baseline reward be BR and the cost of validation C then validators will bid up to BR-C to enter the validation set. To simplify notation we can assume that C contains an opportunity cost of capital so that if bidders are paid C they are earning a normal profit. In this case, in a competitive market, bids will rise until Bid=BR-C. (Recall from the previous example that BR was 10, C was 4 and bids rose to 6). The bid is also the equivalent bond since it is the bid which may be lost by failing to validate. Now from this perspective, there is an easy solution to setting the baseline reward: Set it absurdly high, say 1000. In this case bids will rise to 996 and validators will be extremely careful never to fail to validate since the bond is 996. The problem with this simple solution is that the higher the bond the greater the rewards to collusion and the more risk is imposed on validators. The competitive price in this scenario is 996 but even minimal collusion that brought the price down to say 900 would create very large profits and thus this model is asking for collusion. Even without collusion there may arise a situation where, for accidental or unusual reasons, there are only a handful of bidders who bid say 900 or less and thus they win the rights to earn 1000 for a pittance. In addition, a very high bid/bond means that an error on the part of the validators (‚Äútrembling hands‚Äù) subjects them to large losses. Risk aversion may then dissuade bidders from bidding which in turn could make collusion easier. High fees could thus potentially put the network at risk. Low fees, however, result in too few bidders as we noted above.</p>
<p>Thus, the protocol must target a bid (BR-C) which is large enough to promote good and careful behavior on the part of the validators but also small enough to not induce collusion and to withstand ‚Äútrembling hands,‚Äù i.e. small errors in competitive behavior or execution. Fortunately, there is a very large range under which these conditions are satisfied. Thus, the targeting need not be precise.</p>
<p>Essentially we want the bid to be large enough so that poor performance hurts but not so large as to deter bidders for fear of losing the bond nor so large as to encourage collusion. It‚Äôs likely that a bond greater than 2C would be enough which would mean BR-C&gt;2C or BR&gt;3C and BR&gt;5C would be plenty so we would target a baseline reward (BR) at 3 to 5 times validator costs. Costs (including opportunity costs) don‚Äôt vary much over time so this could be set slowly.¬†</p>
<p>There are a few ways this could be implemented. Some blockchains may find it acceptable to set this manually through governance (one or two times a year), though this just creates another issue to quarrel about. It&#x27;s possible an oracle could be used to target an extrinsic price signal, i.e. the dollar price of the reward. Though we would prefer on-chain algorithms.</p>
<p>A simple algorithm could be implemented that when the bids are persistently near 100% or 0% of the reward then the baseline may increase or decrease by N coins in the following epoch. Alternatively, something more straightforward may be possible: Target BR so that the number of bidders relative to the validator set is always large and well above the validator set. That is, BR would rise as the number of bidders fell and fall as the number of bidders rose. Again, the precision does not matter, so long as BR doesn&#x27;t fall out of range for a prolonged period of time.</p>
<p>Note again, that because the bidders will bid more when the BR rises there is little to no danger in a large BR so long as there are many bidders and we avoid situations where BR is so high that the network cannot afford accidental large payments.</p>
<p>The numbers, above, are illustrations. The actual numbers would need to be experimentally tested and paired with thermostatic adjustments to properly tune the design space.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-details">Implementation Details<a href="#implementation-details" class="hash-link" aria-label="Direct link to Implementation Details" title="Direct link to Implementation Details">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limited-validator-set-rotation">Limited Validator Set Rotation<a href="#limited-validator-set-rotation" class="hash-link" aria-label="Direct link to Limited Validator Set Rotation" title="Direct link to Limited Validator Set Rotation">‚Äã</a></h3>
<p>The auction should not be used to replace the entirety of the seats in the validator set. For example, if there are 21 seats available, and there are 100 candidates for the seats, it wouldn&#x27;t be prudent to allow all the 21 seats to be replaced by highest bidders from the 100 candidates.¬†</p>
<p>Theoretically, the problem here is that a sufficiently well funded adversary, with no experience (or perhaps even the hardware) could completely halt the network simply by creating accounts and funding them. While we think madmen scenarios are unlikely, this would just be an invitation to them.¬†</p>
<p>As we discussed above, operator error is the most common threat, (ou may have ‚Öì of the nodes that simply were not ready, or were hit by a data center outage, or failed to upgrade, or were asleep, etc.). This problem also exists in PoS blockchains, and the most common solution to this as observed in the field is to limit the validator rotation¬†</p>
<p>In practice this means limiting the amount of turnover between one epoch and the next for exactly this reason. In PoF, we would have to accommodate for this as well. For example, no more than ‚Öì of the new incoming validators can be of unknown &quot;readiness&quot;. (Practically, it should be a lower number than one third to accommodate for 2f+1 errors where you might be putting your network really at the borderline of forming consensus. So perhaps ¬º is better.)</p>
<p>Fortunately the solution is straightforward for PoF: Rank the maximum bidders of outgoing and prospective sets, and drop the bottom ‚Öì validators from outgoing set to open up for the prospects.¬†</p>
<p>Assuming epoch E1 and E2, and a prospective validator universe P, which is a set of all bidding validator candidates, and the respective epoch validators V1 and V2. We first fill the two-thirds of cardinality of V2, i.e,¬† ‚Öî * V2, with <em>the</em> highest bids of V1, called continuing, denoted by C. Then we fill the set of (V2-C) with the ranked bids of P excluding C the continuing validators.¬†</p>
<p>This way the union is always maximizing for the highest bidders, and not endangering the network for halts by operator unpreparedness.</p>
<p>Readers might ask, why not take the most reliable validators by some metric, and then auction off the remaining ‚Öì of the seats? This leads to a couple problems:</p>
<ol>
<li>You&#x27;re introducing a vector for gaming. A validator that is consistently the best performing will rationally bid zero. And as such this opens a Sybil issue and malicious behavior can be rewarded. Moreover, the auction is not maximizing revenue.</li>
<li>More importantly, we don&#x27;t have reliable metrics to use on-chain for this. We only really know who signed and who proposed the previous block at any time. If we create a target threshold from either of these points, we introduce other undesirable properties of a network that should be plausibly neutral. In PBFT there&#x27;s one artifact of networking which would cause the validators that are in the nearest datacenters (by network ping) to propagate their proposals and votes faster. Thus, to rely solely on the ratio of signatures or proposals creates a race to centralization.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-seats-should-be-uniform">The Seats Should Be Uniform<a href="#the-seats-should-be-uniform" class="hash-link" aria-label="Direct link to The Seats Should Be Uniform" title="Direct link to The Seats Should Be Uniform">‚Äã</a></h3>
<p>The product of the auction matters: Is it auctioning consensus power, or consensus seats of the same power?</p>
<p>The mechanism described above is notionally for multiple units of the same product: Seats in consensus. However, BFT consensus has another feature which is voting weights, or consensus power. Every block requires a quorum to be committed where quorum is two-thirds of total voting weight. A validator selection process needs to also address the weight of each vote in reaching consensus. In DPoS systems, stakers have their¬† &quot;consensus weight&quot; determined by the amount staked. The implication of a higher consensus weight is that the nodes are able to cast more &quot;votes&quot; on a block, and thus have an outsized role in consensus. Layered on top of that may be an economic reward for proposers (for example, the proposer bonus in Cosmos Hub).</p>
<p>In having different weights, especially when there is huge deviation, consensus would be reached faster by reaching a quorum with lesser participants. For instance, some PoS networks have 100+ validators but only the top 5 make the quorum.¬†</p>
<p>Our current opinion is that all seats should be treated equally. Most BFT academic work, and deployment pre-blockchain, assume equal weights. Recent derivations, such as HotStuff, Narwhal, and BlockSTM, talk in terms of equal weight in their published academic work. It was with Tendermint and DPoS that the concept of weighting gained prominence (possibly because of an assumption that it would optimize the auction for seats by stake, which may not bear out).</p>
<p>We think that variable votes in consensus removes one of the important sybil resistance properties of the &quot;madman&quot; attack described above. That said there may be a reason a blockchain wishes to give greater weight to different nodes.¬†</p>
<p>Through entry fees, a node could be assigned relative weights depending on the price that they bid. That is, the nodes which forgo the most payment will have higher chances of qualifying for liveness. Conversely, the nodes whose hardware and operation constantly perform the highest, will likely be able to charge higher fees, since they are not at risk of being below threshold. Auctioning a ‚Äúliveness bonus‚Äù, so to speak, is a price signal, and there may be legitimate reasons why validators are needing to get a bonus (their nodes are harder to reach).¬†</p>
<p>Future research should decide if there is a meaningful optimization in having variable votes per seat, without compromising the security. Note variable votes per seat has important consequences for the auction mechanism (more detail below).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="auction-formats">Auction Formats<a href="#auction-formats" class="hash-link" aria-label="Direct link to Auction Formats" title="Direct link to Auction Formats">‚Äã</a></h3>
<p>There are multiple auction formats that should be discussed. There&#x27;s a risk in getting side-tracked in a discussion on auction mechanisms, but fundamentally, the big picture is simple: There&#x27;s no auction mechanism that can correct for the absence of bidders. Ensuring an ample supply of bidders that always exceeds the number of validator slots is of first order importance.¬†</p>
<p>The auctioneer maximizes revenue mainly by having better products. And if the product can‚Äôt be improved, the auction increases revenue by adding another¬† marginal bidder. This needs to be highlighted: <strong>Everyone‚Äôs effort is best spent on making a better product</strong>. The only job of the auction designer is to eliminate the worst auctions, and then pick the auction that is easiest to understand by the bidder, and appears fair. This will increase the amount of bidders, and thus revenue.</p>
<p>In terms of picking the auction, the designer needs to¬† prioritize certain features, as these decisions will impact your choice of auction format and configuration. Key issues impacting that choice are:¬†</p>
<ul>
<li>Whether to optimize for revenue of the chain?</li>
<li>Should validators bid their true expected utility?</li>
<li>Are seats uniform?</li>
<li>What level of privacy is desired?</li>
<li>Do we expect collusion from bidders?</li>
</ul>
<p>The principal decision to be made is whether the product is &quot;votes&quot; in consensus or seats which are all equal. Above, we recommend seats with the same consensus weight, but we will give some notes below for the auction for votes scenario.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="if-all-seats-are-equal"><em>If All Seats Are Equal</em><a href="#if-all-seats-are-equal" class="hash-link" aria-label="Direct link to if-all-seats-are-equal" title="Direct link to if-all-seats-are-equal">‚Äã</a></h4>
<p>The most important optimization as we say above is that the auction has to invite the most bidders, that is: It needs to be low friction, not require much analysis, and generally feel fair.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="vickrey-clarke-groves">Vickrey-Clarke-Groves<a href="#vickrey-clarke-groves" class="hash-link" aria-label="Direct link to Vickrey-Clarke-Groves" title="Direct link to Vickrey-Clarke-Groves">‚Äã</a></h5>
<p>The main constraint on the auction design is whether private bidding is possible. A sealed bid, (implemented with commit-reveal) may be possible, but is likely impractical for the workflows of operators. Assuming this was an acceptable position, we could make use of incentive-compatible Vickrey-Clarke-Groves auctions. There&#x27;s a lot to be said about VCG auctions and their ability to surface bidder preferences in a truthful manner. In blockchain applications, however, this has been impractical, so we need to consider open auction formats.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="open-nth-price-auctions">Open Nth-Price Auctions<a href="#open-nth-price-auctions" class="hash-link" aria-label="Direct link to Open Nth-Price Auctions" title="Direct link to Open Nth-Price Auctions">‚Äã</a></h5>
<p>The simplest and most common auction type is a <em>first price auction</em>. Despite known tradeoffs Blockchains implement first prices often, and they seem reliable in adversarial environments. First price auctions can be conducted in the open. Bitcoin uses first price for transaction ordering. A <a href="https://en.wikipedia.org/wiki/Generalized_first-price_auction" target="_blank" rel="noopener noreferrer">Generalized First Price Auction</a> has been historically used in online environments (ads), also for positional ordering, but it is difficult for bidders to discover optimal strategies and for these reasons is susceptible to manipulation (reducing revenue to auctioneer) based on its non-truthful properties.</p>
<p>A <a href="https://en.wikipedia.org/wiki/Generalized_second-price_auction" target="_blank" rel="noopener noreferrer">Generalized Second Price Auction</a> (also a variation of a Vickrey Auction), seems similar to a Vickrey auction but is misnamed since the truthful properties of bidding are not always preserved in GSP. (VCG is the true generalized second price auction.) For similar reasons, the bidder has to work on figuring out where they are placed with other validators. In practice, it works reasonably well, however, and revenues are typically as high as in VCG.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="uniform-price-auctions">Uniform price auctions<a href="#uniform-price-auctions" class="hash-link" aria-label="Direct link to Uniform price auctions" title="Direct link to Uniform price auctions">‚Äã</a></h5>
<p>We recommend a single price auction for the case of uniform seats. (<a href="https://en.wikipedia.org/wiki/Single-price_auction" target="_blank" rel="noopener noreferrer">Also called treasury auctions,</a> since this format is used in U.S. Treasury market operations.) The last ranked qualifying bid sets the price for all validators.</p>
<p>This may be counter intuitive, but even though everyone pays the <em>lowest</em> accepted bid the revenue to the auctioneer has been demonstrated to be similar to other auction formats such as the first price format in which everyone pays their own bid. In essence, under first price people shade their bids down but in a uniform auction bids are higher and it works out that on average revenues are the same. The major advantage of uniform-price auctions is that it&#x27;s easier for the bidders to know what to do: They can bid their true preferences since they will never overpay. Gaming may not be worth the effort. It&#x27;s an elegant solution, and very easily applied to blockchain contexts, though it would require that all seats have the same properties.</p>
<p>Uniform price auctions are usually done as a sealed-bid, however it appears that open auctions with repeat bidding, with bids that cannot be retracted (lowered), will approximate the revenue of sealed bids. A reserve price also helps prevent non-truthful bidding.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="if-selling-votes-in-consensus"><em>If Selling Votes in Consensus</em><a href="#if-selling-votes-in-consensus" class="hash-link" aria-label="Direct link to if-selling-votes-in-consensus" title="Direct link to if-selling-votes-in-consensus">‚Äã</a></h4>
<p>In the case of auctioning variable votes in consensus we have multiple units of the product, and the bidder can buy multiple ones. Typically a <a href="https://en.wikipedia.org/wiki/Multiunit_auction" target="_blank" rel="noopener noreferrer">sealed multiunit auction</a> would be recommended. Though we have the same privacy issues described above for VCG. The multi-unit auction and single price auctions have a winner take all problem, where one bidder can take all the votes available in consensus in a single bid: if you know the highest price you can outbid and take all¬† votes available.</p>
<p>Given these issues we should consider nth-price auctions. A generalized first price auction (described above) would be the alternative to experiment with. This format gives the bidder the value that they were willing to pay. It is also practical for blockchain environments and can be played openly, but not perfectly susceptible to collusion with a limited amount of bidders.¬† If they were to pay a lower price than what they bid (as in a second price auction), the incentive is to vote only above the remaining votes, possibly shading the bid.¬†</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="negative-fees">Negative Fees<a href="#negative-fees" class="hash-link" aria-label="Direct link to Negative Fees" title="Direct link to Negative Fees">‚Äã</a></h3>
<p>Negative fees are possible, and might be allowed in PoF since they are a relevant price signal. As described above, if bidders are consistently on average bidding 100% of the reward, this means that the reward is low, and we might be losing validators because we are not paying the opportunity cost. If 100% was the limit, it would be hard to discover how much we are underpaying. That is, it might take longer for a thermostatic mechanism to adjust. Said differently: Thermostatic baseline pricing allows for negative fee price signaling.</p>
<p>Negative fees should be avoided if there is no thermostatic adjustment, due to the risk of making validators compete on MEV frontrunning. Validators may engage in frontrunning, and as such should pay for it ‚Äì PoF allows for this. It becomes something of a detractor for those who try to gain an edge with MEV.¬†</p>
<p>In another situation, it‚Äôs conceivable that MEV might become widespread, and negative fees would force validators who are not engaging in front running to do so in order to remain competitive. PoF is not a solution to MEV; this will eventually be resolved through engineering advances in transaction inclusion design (e.g. proposer and validator separation). Until this gets solved, the blockchain can monetize some of the MEV.</p>
<p>If negative fees are permitted, there must be lower bounds, even though negative fees means more revenue for coin holders until the thermostatic adjustment kicks in. Without limits, it would be trivial for a sufficiently funded Byzantine adversary to take all the seats (or consensus power depending on auction) in a given epoch.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="discussion">Discussion<a href="#discussion" class="hash-link" aria-label="Direct link to Discussion" title="Direct link to Discussion">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ergonomics">Ergonomics<a href="#ergonomics" class="hash-link" aria-label="Direct link to Ergonomics" title="Direct link to Ergonomics">‚Äã</a></h3>
<p>The greatest benefit of PoF is that it is simple. Every actor has a very simple instruction on what to do:</p>
<ul>
<li>Holders: Just hold. You are losing nothing by being passive.</li>
<li>Validators: Bid what it&#x27;s worth to you.</li>
<li>Apps: Developers can develop scenarios where the coin is used in the app, or held, without risking its loss of value from dilution.</li>
</ul>
<p>There are no secret handshakes, it doesn&#x27;t require being able to become connected to capital to fund your stake. Historical DPoS networks have started by using a company or foundation sponsoring the initial stakes of validators (and this is often hidden information). PoF removes this out-of-band game. It not only provides an open opportunity to prospective validators, it&#x27;s optimal for the network: The validators must compete on price, and not pre-existing business relationships.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bonding">Bonding<a href="#bonding" class="hash-link" aria-label="Direct link to Bonding" title="Direct link to Bonding">‚Äã</a></h3>
<p>The greatest question about PoF is if it is safe. Put differently, is the inter-epoch bond (the entry fee) a sufficient deterrent.¬†</p>
<p>In DPOS systems, very large bonds are placed to disincentivize, via the cost of capital of the parked coins combined with the threat of slashing. These costs appear to work. But to what extent is the cost too high? The bond and expense of a validator in DPOS is measured in the collateral and the expense of the cost of capital during the epoch. This cost can be orders of magnitude greater than the profit of the validator during the epoch.</p>
<p>The trap is that, in DPOS, the answer to the question of how much of a bond is needed is usually &quot;more&quot;. Modeling this is an exercise fraught with assumptions. Above we argue that the baseline &quot;&#x27;honesty assumptions&quot; of BFT and the empirical evidence show that slashing large stakes is not needed. Notably, Avalanche blockchain is a Proof-of-Stake network without slashing.</p>
<p>PoF has no slashing except for losing the bid, which is effectively a bond. The question PoF asks is whether that bond needs to be 1,000X the profit, or if by slashing smaller stakes (i.e. the bid) repeatedly, if need be, we will have the same deterrence on less-than-competent validators.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delegation">Delegation<a href="#delegation" class="hash-link" aria-label="Direct link to Delegation" title="Direct link to Delegation">‚Äã</a></h3>
<p>A notable feature of Proof of Fee is that there is no delegation. Delegation in POS proposes to solve two issues: (1) how to distribute rewards broadly, and (2) how to have economic agents participate in validator selection.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="less-investor-rent-seeking"><em>Less investor rent-seeking</em><a href="#less-investor-rent-seeking" class="hash-link" aria-label="Direct link to less-investor-rent-seeking" title="Direct link to less-investor-rent-seeking">‚Äã</a></h4>
<p>We assume with DPOS that all rewards are distributed to the &quot;stakers&quot; of the validator, and that a marginal fee (usually around 3-5%) is paid to the validator&#x27;s operator. Historically, this means the initial stakes are set up by investors from conventional venture capital or, until about 2019, &quot;retail&quot; market ICOs. As we stated earlier, there are social effects to having this investor class receiving rents from future depositors.</p>
<p>In PoF, the principal property is that all coin holders are effectively stakers of the entire validator set. This is because PoF removes delegation and the investor class. While there are opportunities for capitalists in PoF, such as financing entry fees, this operates much more like a type of receivables financing rather than a preferred shares early investor financing. There could be no broader distribution of excess rewards. So, while PoF welcomes capitalist financing, it does not depend on it to get off the ground, and doesn&#x27;t promise rents into perpetuity above and beyond what other coin holders receive.¬†</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="participation-in-validator-selection"><em>Participation in Validator Selection</em><a href="#participation-in-validator-selection" class="hash-link" aria-label="Direct link to participation-in-validator-selection" title="Direct link to participation-in-validator-selection">‚Äã</a></h4>
<p>Validator selection is an issue on PBFT chains. PoF and DPOS have similar issues when there is no mechanism for selecting validators beyond economics, i.e. the party with the most economic budget can join the validator set.</p>
<p>A PBFT network is born from a group of validators, and the social norms of those validators propagate to subsequent participants. In contrast, PoF leaves the question of validator selection open, allowing for variations of delegation to exist, for example:</p>
<ul>
<li>On-chain or off-chain vouching mechanisms for validators will be desired by most communities.</li>
<li>Delegation, whereby validators may receive loans from different agents to pay for entry fees.</li>
<li>A community may even be willing to risk adversarial nodes (e.g. MEV) in consensus for a while. We would expect that such behavior would quickly cease to be attractive as participants are outbid by honest agents.</li>
</ul>
<p>The DPOS hypothesis is that the holders of coins are good estimators of validator &quot;quality&quot; for the network. This is actually a public goods provision problem: A free rider problem. Estimating the abilities and usefulness of a validator is valuable to the network, but someone must pay for it, and neither end-user nor validator has the incentive to pay to create that information.¬†</p>
<p>The DPOS hypothesis is that staking is a good heuristic. The trouble is that the game forces operators to have a distributed group of economic agents wager on which validator they should be a party to. Empirically, this leads to a race from operators to offer &quot;rebates&quot; and negative commissions to users. Additionally, in practice, many stakers are in fact passive and allow their virtual asset service provider (i.e. Coinbase, Binance, etc.) to choose the destination of the delegation (usually their own nodes). On the part of the account holder, this is a perfectly rational decision in response to asymmetric information about the blockchain&#x27;s condition. It&#x27;s not entirely obvious that there is a high signal from the stakers on validator selection. Do we really know if we are picking the best, most performant and honest validator set? There are commentators in the field that say that the opposite often happens.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="delegation-increases-costs"><em>Delegation increases Costs</em><a href="#delegation-increases-costs" class="hash-link" aria-label="Direct link to delegation-increases-costs" title="Direct link to delegation-increases-costs">‚Äã</a></h4>
<p>Our hypothesis is that the cost of consensus is not only higher on non-staked depositors in DPOS, but also it is higher globally. That is, for the transaction fees of the chain to adequately cover the security budget of consensus, the fees need to be sufficient to cover the opportunity costs of not only the operator, but also of the stakers.¬†</p>
<p>This means that higher transaction fees are needed than in the absence of delegation, and this picture is further complicated when issuance is needed to supplant that deficit in transaction fees. Non-staked coin holders are disadvantaged by this design.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="law">Law<a href="#law" class="hash-link" aria-label="Direct link to Law" title="Direct link to Law">‚Äã</a></h3>
<p>A final point to mention here is regulatory profile. This topic is of increasing relevance to actors in this sector and DPoS needs to be considered in light of what is known. There&#x27;s a long discussion to be had on whether regulatory issues are outside of protocol or not, that is, should regulators be considered agents in your game and is regulation an attack vector. Regardless of your views on that, DPoS clearly has a heightened regulatory profile due to the presence of various approaches to pooling, lending, and equity that variations of DPoS apply. Proof of Fee and its cost to enter the service market is more distinct, in that it does not rely on overt capital pooling mechanisms.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The PoF design is upside-down from mainstream blockchains: Usually the protocol determines the price that is right for each validator, and the validator can choose to enter the validator set. As such it needs to make assumptions about private information of the validator, and so the validator is left with a binary choice: Take it or leave it. Over the very long term this may approximate opportunity cost, but with the practice of most blockchains heavily weighting rewards to early participants, the blockchain usually errs on the side of overpaying for security. In PoF, the onus is on the validator to reveal the correct price of consensus.</p>
<p>The above proposal starts with the assumption that PBFT networks are theoretically resilient before economic guarantees are applied: They a) have a high bar for transaction reordering which is easily caught with cryptography, and b) walk a trusted graph of nodes from the genesis. As such those chains have a higher safety profile than Nakamoto consensus for many theoretical threats. As for economic guarantees, DPOS on PBFT is cheaper than PoW with Nakamoto consensus.</p>
<p>With PoF we may be able to make PBFT even more cost effective for the chain, by safely removing delegation, which adds costs and taxes the less-informed and the accounts that are otherwise restricted from staking. If anything, our conclusion is that DPoS may be a local maximum, and there is still further experimentation to be made on economic guarantees for PBFT consensus.</p>
<p>Proof of Fee, with its emphasis on reducing the cost of security to a market-driven minimum, provides a new mechanism for blockchains concerned with building sustainable business models and for those concerned with maintaining greater equity among the participants in their ecosystem. We think this is a first step to creating networks that the mainstream population actually want to belong to.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/po-f">PoF</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/proof-of-fee">Proof of Fee</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/canonical">canonical</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/0LNetworkCommunity/documentation/edit/main/blog/blog/proof-of-fee-part-2.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/proposals/october-2022-governance-recap"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">2022 Governance Recap</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/proof-of-fee-part-1"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Proof of Fee - Part 1</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gaming-it-out" class="table-of-contents__link toc-highlight">Gaming it out</a><ul><li><a href="#deterrence-is-in-the-mind" class="table-of-contents__link toc-highlight">Deterrence is in the mind</a></li><li><a href="#a-town-of-robbers-is-no-town-at-all" class="table-of-contents__link toc-highlight">A town of robbers is no town at all</a></li><li><a href="#cartels-are-unstable" class="table-of-contents__link toc-highlight">Cartels are unstable</a></li></ul></li><li><a href="#proof-of-fee-auctioning-consensus-seats" class="table-of-contents__link toc-highlight">Proof of Fee: Auctioning Consensus Seats</a><ul><li><a href="#problem-definition" class="table-of-contents__link toc-highlight">Problem Definition</a></li><li><a href="#first-approach-a-reverse-auction" class="table-of-contents__link toc-highlight">First Approach: A Reverse Auction</a></li><li><a href="#pricing-carelessness-with-a-forward-auction" class="table-of-contents__link toc-highlight">Pricing Carelessness With A Forward Auction</a></li><li><a href="#thermostatic-baseline-price" class="table-of-contents__link toc-highlight">Thermostatic Baseline Price</a></li></ul></li><li><a href="#implementation-details" class="table-of-contents__link toc-highlight">Implementation Details</a><ul><li><a href="#limited-validator-set-rotation" class="table-of-contents__link toc-highlight">Limited Validator Set Rotation</a></li><li><a href="#the-seats-should-be-uniform" class="table-of-contents__link toc-highlight">The Seats Should Be Uniform</a></li><li><a href="#auction-formats" class="table-of-contents__link toc-highlight">Auction Formats</a></li><li><a href="#negative-fees" class="table-of-contents__link toc-highlight">Negative Fees</a></li></ul></li><li><a href="#discussion" class="table-of-contents__link toc-highlight">Discussion</a><ul><li><a href="#ergonomics" class="table-of-contents__link toc-highlight">Ergonomics</a></li><li><a href="#bonding" class="table-of-contents__link toc-highlight">Bonding</a></li><li><a href="#delegation" class="table-of-contents__link toc-highlight">Delegation</a></li><li><a href="#law" class="table-of-contents__link toc-highlight">Law</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <div class="footer-left">
                  <a class="footer-logo" href="https://openlibra.io/" target="_blank" rel="noopener noreferrer" title="Open Libra">
                  <img src="/img/logo.png" alt="0L Network logo">
                  </a>
                </div>
                </li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                  <p class="right">
                    <nav class="social-links">
                        <a class="social-link" href="https://github.com/0LNetworkCommunity/" target="_blank" rel="noopener noreferrer" title="Github">
                         <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 0C4.47514 0 0 4.47514 0 10C0 14.4199 2.86679 18.1645 6.83855 19.4905C7.33579 19.5826 7.51995 19.2756 7.51995 19.0055C7.51995 18.7661 7.51381 18.14 7.50767 17.3051C4.72683 17.9067 4.13751 15.9668 4.13751 15.9668C3.68324 14.8128 3.0264 14.5058 3.0264 14.5058C2.11786 13.8858 3.09392 13.8981 3.09392 13.8981C4.09454 13.9718 4.62861 14.9294 4.62861 14.9294C5.51872 16.4579 6.96746 16.016 7.53837 15.7581C7.63045 15.1136 7.88827 14.6716 8.17066 14.4199C5.94843 14.1682 3.61571 13.3088 3.61571 9.47821C3.61571 8.38551 4.00246 7.4954 4.64702 6.79558C4.54266 6.54389 4.19889 5.52486 4.74524 4.14978C4.74524 4.14978 5.58625 3.87968 7.4954 5.17495C8.29343 4.95396 9.14672 4.84346 10 4.83732C10.8471 4.83732 11.7066 4.95396 12.5046 5.17495C14.4137 3.87968 15.2548 4.14978 15.2548 4.14978C15.8011 5.52486 15.4573 6.54389 15.353 6.79558C15.9914 7.4954 16.3781 8.38551 16.3781 9.47821C16.3781 13.3211 14.0393 14.1621 11.8109 14.4137C12.167 14.7207 12.4923 15.3346 12.4923 16.2676C12.4923 17.6059 12.48 18.6802 12.48 19.0117C12.48 19.2818 12.6581 19.5887 13.1676 19.4905C17.1393 18.1645 20 14.4199 20 10.0061C20 4.47514 15.5249 0 10 0Z" fill="currentColor"/></svg>
                        </a>
                        <a class="social-link" href="https://discord.gg/0lnetwork" target="_blank" rel="noopener noreferrer" title="Discord">
                          <svg width="100%" height="100%" viewBox="0 0 71 55" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M60.105 4.898A58.55 58.55 0 0 0 45.653.415a.22.22 0 0 0-.233.11 40.784 40.784 0 0 0-1.8 3.697c-5.456-.817-10.886-.817-16.23 0-.485-1.164-1.201-2.587-1.828-3.697a.228.228 0 0 0-.233-.11 58.386 58.386 0 0 0-14.451 4.483.207.207 0 0 0-.095.082C1.578 18.73-.944 32.144.293 45.39a.244.244 0 0 0 .093.167c6.073 4.46 11.955 7.167 17.729 8.962a.23.23 0 0 0 .249-.082 42.08 42.08 0 0 0 3.627-5.9.225.225 0 0 0-.123-.312 38.772 38.772 0 0 1-5.539-2.64.228.228 0 0 1-.022-.378 31.17 31.17 0 0 0 1.1-.862.22.22 0 0 1 .23-.03c11.619 5.304 24.198 5.304 35.68 0a.219.219 0 0 1 .233.027c.356.293.728.586 1.103.865a.228.228 0 0 1-.02.378 36.384 36.384 0 0 1-5.54 2.637.227.227 0 0 0-.121.315 47.249 47.249 0 0 0 3.624 5.897.225.225 0 0 0 .249.084c5.801-1.794 11.684-4.502 17.757-8.961a.228.228 0 0 0 .092-.164c1.48-15.315-2.48-28.618-10.497-40.412a.18.18 0 0 0-.093-.084Zm-36.38 32.427c-3.497 0-6.38-3.211-6.38-7.156 0-3.944 2.827-7.156 6.38-7.156 3.583 0 6.438 3.24 6.382 7.156 0 3.945-2.827 7.156-6.381 7.156Zm23.593 0c-3.498 0-6.38-3.211-6.38-7.156 0-3.944 2.826-7.156 6.38-7.156 3.582 0 6.437 3.24 6.38 7.156 0 3.945-2.798 7.156-6.38 7.156Z" fill="currentColor"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h71v55H0z"/></clipPath></defs></svg>
                        </a>
                    </nav>
                  </p>
              </li></ul></div></div></div></footer></div>
</body>
</html>